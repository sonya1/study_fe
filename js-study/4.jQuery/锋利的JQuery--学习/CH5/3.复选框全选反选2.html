<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<h3>你爱好的运动是？<input type="checkbox" id="checkAll">全选/全不选</input></h3>
	<input type="checkbox" value="足球">足球</input>
	<input type="checkbox" value="蓝球">蓝球</input>
	<input type="checkbox" value="羽毛球">羽毛球</input>
	<input type="checkbox" value="乒乓球">乒乓球</input><br><br>
	<input type="submit" id="submit">
	<script type="text/javascript" src="../jquery.min.js"></script>
	<script>
		$(function(){
			$("#checkAll").click(function(){
				/*if(this.checked){
					$("[type=checkbox]").attr("checked",true);
				}else{
					$("[type=checkbox]").attr("checked",false);
				}*/
				$("[type=checkbox]").attr("checked",this.checked);
			});
			
			$(":checkbox:not('#checkAll')").click(function(){
				/*var flag = true;
				$(":checkbox:not('#checkAll')").each(function(){
					if(!this.checked){
						flag = false;
					}
				});
				if(flag){
					$("#checkAll").attr("checked",true);
				}else{
					$("#checkAll").attr("checked",false);
				}*/
				var $tmp = $(":checkbox:not('#checkAll')");
				$("#checkAll").attr("checked",$tmp.length == $tmp.filter(":checked").length);
			});

			$("#submit").click(function(){
				var msg = "";
				$(":checked:checkbox:not('#checkAll')").each(function(){
					//if(this.checked){
						msg += $(this).val()+"\r\n";
					//}
				});	
				//msg += $("[type=checkBox]:checked")?$(this).val():"<br>";
				alert("你选中的是：\r\n"+msg);
			});
		});

		
	</script>
</body>
</html>